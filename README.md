# Protobuf Symbols

## Описание 
Данный проект является консольной утилитой `protosym` на языке Go. В качестве аргумента на вход подается путь до прото файла.

На выходе ожидается список символов переданного прото файла. К символам относятся:
- `import`
- `service`
- `rpc`
- `enum`
- `message`

Символ должен соответствовать паттерну: `{name} {type} {line}:{start identifier}-{end identifier}`.

Где:
- `line` - строка, на которой находится символ
- `start identifier` - индекс первой буквы названия символа
- `end identifier` - индекс последней буквы названия символа + 1
- Индекс для идентификаторов начинается с 1.

## Инструкция по запуску
Есть несколько способов запустить утилиту:

### 1. `go run`
Нужно перейти в корень проекта и выполнить следующую команду:
```
go run cmd/main.go ./proto/<example>.proto 
```
Где `<example>` - название прото файла, примеры файлов находятся в директории `/proto`.

В этом случае запустится `main.go`.

### 2. `go build`
Нужно перейти в корень проекта и выполнить следующую команду:
```
go build -o protosym cmd/main.go
```
Создастся исполняемый файл, после его нужно запустить:
```
./protosym ./proto/<example>.proto   
```
Где `<example>` - название прото файла, примеры файлов находятся в директории `/proto`.

## Документация

### main
Является отправной точкой программы. Сначала осуществляется проверка на количество аргументов, если их меньше 2, то выводится ошибка. Далее открывается прото файл и начинается его парсинг.

### Base Parser
Данные структура и методы отвечают за парсинг. Алгоритм построен на паттерне Chain of responsibility: парсеры выстраиваются в цепочку и если один из них не может обработать строку из файла, он отдает ее следующему.

### Command Parsers
Данные парсеры являются обработчиками для команд, а именно `enum`, `import`, `message`, `rpc` и `service`. 

### Parser Settings
Настройки обработчиков, по которым осуществляется парсинг строки из файла.